<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Amal AI Triage Chat</title>
    <script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
    <script src="index.js"></script>
    <link href="stylesheets/style.css" rel="stylesheet">
</head>
<body>
    <!-- Language Selection -->
    <div class="language-toggle">
        <label for="languageSelect">Choose Language:</label>
        <select id="languageSelect" onchange="switchLanguage()">
            <option value="en">English</option>
            <option value="ar">Arabic</option>
        </select>
    </div>

    <!-- Chatbot Container -->
    <div id="webchat" role="main" aria-label="Amal AI Triage Chat" watermark="false"></div>

    <!-- Initialize Chatbot -->
    <script>
        function chatRequested(locale = 'en') {
            window.WebChat.renderWebChat({
                directLine: window.WebChat.createDirectLine({ token: 'YOUR_DIRECT_LINE_TOKEN' }),
                locale: locale
            }, document.getElementById('webchat'));
        }

        // Initialize chatbot with default language
        chatRequested();

        // Language switch function
        function switchLanguage() {
            const selectedLanguage = document.getElementById('languageSelect').value;
            document.getElementById('webchat').innerHTML = '';  // Clear existing chat
            chatRequested(selectedLanguage);  // Reload chat with the selected language
        }
    </script>
</body>
</html>
